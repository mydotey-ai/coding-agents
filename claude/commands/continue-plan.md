# continue-plan

根据项目 docs/ 目录下的设计文档、进度文档，自动识别待开发功能并调用 superpowers:writing-plans skill 制定实施计划。

## 执行步骤

1. **读取项目进度文档**
   - 读取 `docs/PROJECT_PROGRESS.md`
   - 识别当前已完成阶段（带 ✅ 标记）
   - 识别"下一步计划"或"进行中"阶段（带 🔄 标记）
   - 提取技术栈信息

2. **查看设计文档**
   - 列出 `docs/plans/` 目录下的所有计划文档
   - 如果有相关的未完成功能的设计文档，读取其内容

3. **识别待开发功能**
   - 根据进度文档中的"下一步计划"部分
   - 查找带有 🔄 标记的"进行中"功能
   - 确定需要制定计划的具体功能模块

4. **调用计划编写 skill**
   - 使用 Skill 工具调用 `superpowers:writing-plans`
   - 传入的参数包含：
     * 功能描述（从进度文档提取）
     * 已完成阶段作为上下文
     * 技术栈信息
     * 相关 API 和依赖信息

5. **输出总结**
   - 说明正在为哪个功能制定计划
   - 说明已识别的上下文
   - 等待 writing-plans skill 完成
   - 提供简短总结

## 输出格式

执行完成后应输出：

```
正在为功能: [功能名称] 制定计划...

已识别上下文:
- 已完成阶段: Phase 1-10 (基础架构、文档处理、认证、RAG、Agent、Chatbot、爬虫、文件存储、监控、文档部署)
- 当前阶段: Phase 11 (前端实现)
- 技术栈: Vue 3 + TypeScript + Element Plus

正在调用 superpowers:writing-plans skill...
[skill 执行过程]

计划已生成: docs/plans/YYYY-MM-DD-[功能名称].md
```

## 错误处理

- **进度文档不存在**: 提示创建 `docs/PROJECT_PROGRESS.md`
- **所有功能已完成**: 明确告知用户所有功能都已完成，无需制定新计划
- **进度文档不明确**: 询问用户要为哪个具体功能制定计划
- **无法识别待开发功能**: 列出进度文档中所有未完成的功能，让用户选择

## 示例场景

### 场景 1: 继续开发系统设置界面
```
读取进度文档: 发现 Phase 11 中"系统设置界面"状态为 🔄
识别上下文: 已完成认证、知识库、Agent、Chatbot、MCP 管理界面
调用 writing-plans skill
生成计划: docs/plans/2026-01-23-system-settings-ui.md
```

### 场景 2: 开始开发数据可视化仪表盘
```
读取进度文档: 发现"数据可视化仪表盘"在下一步计划中
识别上下文: 已完成所有核心功能界面
调用 writing-plans skill
生成计划: docs/plans/2026-01-23-dashboard-visualization.md
```

### 场景 3: 所有功能已完成
```
读取进度文档: 所有阶段都标记为 ✅
输出: 所有功能都已完成，无需制定新计划。
       当前项目处于维护和优化阶段。
```

## 注意事项

- 确保在调用 writing-plans skill 之前收集足够的上下文
- 如果进度文档中有多个待开发功能，按优先级选择最重要的
- 保持输出简洁明了，专注于识别正确的功能
- 如果需要，可以向用户确认要制定计划的功能
- 生成的计划文档应保存在 `docs/plans/` 目录下
